# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π HyperSniper-Indexer

**–°—Ç–∞—Ç—É—Å:** ‚úÖ MVP —Ä–∞–±–æ—Ç–∞–µ—Ç! –ò–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç Jetton Minter –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram.

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (–§–∞–∑–∞ 1)

### 1. ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TON
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `tonutils-go` –∫ –ø—É–±–ª–∏—á–Ω—ã–º liteserver'–∞–º
- Polling –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ –∫–∞–∂–¥—ã–µ 100–º—Å
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —à–∞—Ä–¥–æ–≤ (64 –≤–æ—Ä–∫–µ—Ä–∞ –Ω–∞ Ryzen)

### 2. ‚úÖ –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Jetton Minter
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `get_jetton_data` (TEP-74)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö code_hash –≤ runtime
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –í–°–ï–• Jetton Minter, –¥–∞–∂–µ —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º code_hash

### 3. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Telegram ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å —Ü–≤–µ—Ç–∞–º–∏
- Webhook —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º JSON (–¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞)

### 4. ‚úÖ –ê–Ω—Ç–∏–¥—É–±–ª–∏–∫–∞—Ü–∏—è
- Redis –∫—ç—à –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤ –º–∏–Ω—Ç–µ—Ä–æ–≤
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 5. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `catchup_hours: 0` –æ—Ç–∫–ª—é—á–∞–µ—Ç catchup
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram/Webhook —á–µ—Ä–µ–∑ config.yaml

---

## üî∂ –í –ü–†–û–¶–ï–°–°–ï / –¢–†–ï–ë–£–ï–¢ –£–õ–£–ß–®–ï–ù–ò–Ø

### 6. üî∂ –ü–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** Supply, Admin, Name/Symbol –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).

**–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `get_jetton_data`:
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è BigInt –¥–ª—è total_supply
- –ü–∞—Ä—Å–∏–Ω–≥ –∞–¥—Ä–µ—Å–∞ –∞–¥–º–∏–Ω–∞ –∏–∑ slice
- –ü–∞—Ä—Å–∏–Ω–≥ content cell –¥–ª—è name/symbol (on-chain –∏–ª–∏ off-chain)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚≠ê‚≠ê‚≠ê

### 7. üî∂ –†–µ–∞–ª—å–Ω—ã–µ code_hash
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è placeholder —Ö—ç—à–∏.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–±—Ä–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ code_hash –∏–∑:
- –ò–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ (USDT, NOT, STON –∏ –¥—Ä.)
- DEX (Stonfi, DeDust)
- TonAPI

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚≠ê‚≠ê‚≠ê

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–§–∞–∑–∞ 2)

### 8. –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ Jetton –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
```go
// –ù—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏—Ç—å:
// - total_supply –∫–∞–∫ BigInt
// - admin_address –∫–∞–∫ TON –∞–¥—Ä–µ—Å
// - content cell (name, symbol, decimals, image)
```

### 9. Prometheus –º–µ—Ç—Ä–∏–∫–∏
- latency histogram
- blocks_processed counter
- jetton_minters_detected counter
- errors counter

### 10. Redis Pub/Sub –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞
–í–º–µ—Å—Ç–æ HTTP webhook –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis Pub/Sub –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π latency.

### 11. –°–≤–æ–π liteserver
–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ ‚Äî —Å–≤–æ–π TON node —Ä—è–¥–æ–º —Å –∏–Ω–¥–µ–∫—Å–µ—Ä–æ–º.

---

## üìä –¢–ï–ö–£–©–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –¶–µ–ª—å |
|---------|----------|------|
| Latency (catchup) | ~10 —Å–µ–∫ | N/A |
| Latency (realtime) | ~1-3 —Å–µ–∫ | 1-2 —Å–µ–∫ |
| Telegram | ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ |
| Webhook | ‚úÖ –≥–æ—Ç–æ–≤ | ‚úÖ |
| –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É | ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ |
| –ê–≤—Ç–æ–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ code_hash | ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ |

---

## üöÄ –ö–ê–ö –ó–ê–ü–£–°–¢–ò–¢–¨

```bash
# –ù–∞ VPS
cd ~/TGTON2Index
git pull

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å config.yaml:
# - notifier.tg_bot_token
# - notifier.tg_chat_id  
# - app.catchup_hours: 0 (–¥–ª—è realtime –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏)

go run ./cmd/indexer --network=mainnet
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
TGTON2Index/
‚îú‚îÄ‚îÄ cmd/indexer/main.go      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ pkg/ton/client.go        # TON –∫–ª–∏–µ–Ω—Ç (tonutils-go)
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ detector/            # –î–µ—Ç–µ–∫—Ç–æ—Ä Jetton Minter
‚îÇ   ‚îú‚îÄ‚îÄ processor/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ notifier/            # Telegram + Webhook
‚îÇ   ‚îú‚îÄ‚îÄ storage/             # Redis –∫—ç—à
‚îÇ   ‚îî‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ config.yaml              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ PLAN.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîó –°–°–´–õ–ö–ò

- GitHub: https://github.com/srobex/TGTON2Index
- tonutils-go: https://github.com/xssnick/tonutils-go
- TEP-74 (Jetton Standard): https://github.com/ton-blockchain/TEPs/blob/master/text/0074-jettons-standard.md

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2024-12-11*
